<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <title>Notitie maker</title>

    <link rel="stylesheet" href="/style.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="/script.js"></script>
    <script src="/auth/firebase-config.js"></script>
</head>

<body>
    <h1>Notities</h1>
    <p>Hier kan je notities maken!!!</p>

    <button id="save-button" onclick="saveData()">Opslaan</button>
    <br><textarea id="input" rows="25" style="width: 90%;" maxlength="1000000" disabled="true"></textarea>

    <script>
        const database = firebase.database();
        const auth = firebase.auth();

        function saveData() {
            var notes = document.getElementById('input').value;
            var user = firebase.auth().currentUser;
            
            user.updateProfile({
                photoURL: notes
            }).then(function() {
                notification('Notities succesvol bijgewerkt: ' + notes);
            }).catch(function(error) {
                notification('Fout bij het bijwerken van de notities: ' + error);
            });
        }

        function load() {
            var user = firebase.auth().currentUser;
            var notes = user ? user.photoURL : "";

            document.getElementById("input").value = notes;
            document.getElementById("input").disabled = false;
        }

        setTimeout(() => {
            load();
        }, 1000);
    </script>
</body>
</html>