<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hoogvliet Tools</title>

    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
        }
    </style>
</head>

<body>

    <div id="reclame-tegoedbon">
        <h3>Actiekorting Berekenen</h3>
        <p>Huidige prijs (€):</p>
        <input type="number" id="huidigePrijs" placeholder="Bijv. 3.00 / 3">

        <p>Kies invoertype actieprijs:</p>
        <select id="typeInvoer">
            <option value="">-- Maak een keuze --</option>
            <option value="procent">Procent</option>
            <option value="vast">Vaste prijs</option>
        </select>

        <div id="procentBox" style="display:none;">
            <p>Actie Korting (%):</p>
            <input type="number" id="kortingProcent" placeholder="Bijv. 20 (voor 20% korting)">
        </div>

        <div id="vastBox" style="display:none;">
            Actie Prijs (€):
            <input type="number" id="vastePrijs" placeholder="Bijv. 7.50">
        </div>

        <p>Aantal Producten:</p>
        <input type="number" id="aantalProducten" placeholder="Aantal producten (Bijv. 2)">

        <button id="berekenKnop">Bereken Korting</button>
        <p>De te verrekenen korting is: <span id="resultaatKorting">€ 0.00</span></p>
        <script>
            const typeInvoer = document.getElementById("typeInvoer");
            const procentBox = document.getElementById("procentBox");
            const vastBox = document.getElementById("vastBox");
            const berekenKnop = document.getElementById("berekenKnop");
            const resultaatKortingSpan = document.getElementById("resultaatKorting");

            typeInvoer.addEventListener("change", function () {
                if (typeInvoer.value === "procent") {
                    procentBox.style.display = "block";
                    vastBox.style.display = "none";
                } else if (typeInvoer.value === "vast") {
                    procentBox.style.display = "none";
                    vastBox.style.display = "block";
                } else {
                    procentBox.style.display = "none";
                    vastBox.style.display = "none";
                }
            });

            berekenKnop.addEventListener("click", function () {
                const prijsInput = document.getElementById("huidigePrijs");
                const kortingProcentInput = document.getElementById("kortingProcent");
                const vastePrijsInput = document.getElementById("vastePrijs");
                const aantalProductenInput = document.getElementById("aantalProducten");

                const huidigePrijs = parseFloat(prijsInput.value) || 0;
                const kortingProcent = parseFloat(kortingProcentInput.value) || 0;
                const vastePrijs = parseFloat(vastePrijsInput.value) || 0;
                const aantalProducten = parseInt(aantalProductenInput.value) || 1;

                const type = typeInvoer.value;
                let totalePrijsZonderKorting = huidigePrijs * aantalProducten;
                let teVerrekenenKorting = 0;

                if (type === "procent") {
                    if (kortingProcent > 0 && kortingProcent <= 100) {
                        teVerrekenenKorting = huidigePrijs * (kortingProcent / 100) * aantalProducten;
                    }
                } else if (type === "vast") {
                    if (vastePrijs < huidigePrijs) {
                        let kortingPerProduct = huidigePrijs - vastePrijs;
                        teVerrekenenKorting = kortingPerProduct * aantalProducten;
                    }
                }

                if (teVerrekenenKorting < 0) {
                    teVerrekenenKorting = 0;
                }

                resultaatKortingSpan.textContent = "€ " + teVerrekenenKorting.toFixed(2);
            });
        </script>
    </div>

</body>

</html>