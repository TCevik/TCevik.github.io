<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://tcevik.github.io/style.css">
    <script src="https://tcevik.github.io/script.js"></script>
    <title>TC_tam Chat App</title>
</head>
<body>
    <button id="top-left-button" onclick="window.location.href='/'">Home</button>
    <div id="user-info" style="display: none;">
        <span id="user-email"></span>
        <button id="logout-btn">Uitloggen</button>
        <button id="change-password-btn">Wachtwoord wijzigen</button>
    </div>
      
    <div id="login">
        <h1>Inloggen / Registreren</h1>
        <form id="login-form">
            <input type="email" id="login-email" placeholder="E-mailadres" required>
            <input type="password" id="login-password" placeholder="Wachtwoord" required>
            <button type="submit">Inloggen / Registreren</button>
            <button id="reset-password-btn">Wachtwoord resetten</button>
        </form>
    </div>

    <div id="chat" style="display: none;">
        <input type="text" id="message-input" placeholder="Voer een bericht in" maxlength="500" autocomplete="off">
        <button id="send-button">Verzenden</button>
        <div id="chat-output"></div>
    </div>


    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-database-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="firebase-auth.js"></script>
    <script src="chat.js"></script>

    <style>
        .popupChat {
          position: fixed;
          z-index: 10000;
          background: var(--background-color);
          padding: 10px;
          border: 1px solid var(--h1234-color);
          border-radius: 10px;
          font-size: var(--font-size);
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
        }

        .popupChat button {
            padding-top: 3px;
            padding-bottom: 2px;
        }
    </style>

    <script>
      /* accepteer popupChat */
      document.addEventListener('DOMContentLoaded', function () {
        if (!localStorage.getItem('acceptPopupChat')) {
          var popupChat = document.createElement('div');
          popupChat.id = 'popupChat';
          popupChat.className = 'popupChat';
        
          var text = 'Disclaimer chat: Deze chat is een open chat waar gebruikers vrij zijn om te communiceren. Er zijn geen regels voor wat er gezegd of gedeeld mag worden. Dit betekent dat er ook 18+ content kan voorkomen. Gebruikers onder de 18 jaar wordt geadviseerd deze chat alleen onder toezicht van een volwassene te gebruiken.';
          popupChat.innerHTML = text;
        
          var button = document.createElement('button');
          button.innerHTML = 'Ok';
        
          button.addEventListener('click', function () {
            var opacity = 1;
            var intervalId = setInterval(function () {
              opacity -= 0.05;
              popupChat.style.opacity = opacity;
              if (opacity <= 0) {
                clearInterval(intervalId);
                popupChat.style.display = 'none';
              }
            }, 15);
          
            localStorage.setItem('acceptPopupChat', 'true');
          });
        
          popupChat.appendChild(document.createElement('br')); // Nieuwe regel toegevoegd
          popupChat.appendChild(button);
        
          document.body.appendChild(popupChat);
        }
      });
    </script>
</body>
</html>
