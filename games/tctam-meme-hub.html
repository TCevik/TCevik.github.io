<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <title>TC_tam Meme Hub</title>
    <link rel="stylesheet" href="/style.css">
    <script src="/script.js"></script>
    <style>
        #memes {
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            margin-left: 20px;
        }

        .meme {
            display: flex;
            justify-content: center;
            flex-direction: column;
            margin-top: 20px;
            text-align: left;
            border-radius: var(--border-radius2);
            background-color: var(--bg-color);
            padding: 20px;
            margin: 15px;
            box-shadow: 0px 0px 10px var(--h1234-color);
            max-width: 600px;
            overflow: hidden;
        }

        .meme img {
            max-height: 200px;
            max-width: 100%;
            height: auto;
            object-fit: contain;
        }

        .meme h3 {
            margin-top: -5px;
            word-wrap: break-word;
        }

        .pagination {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .pagination button {
            margin: 0 10px;
            padding: 10px 15px;
            cursor: pointer;
        }

        .page-info {
            align-self: center;
            margin: 0 20px;
            font-size: 1.2em;
        }
    </style>
</head>

<body>
    <div id="memes"></div>

    <div class="pagination">
        <button id="prevPage" onclick="changePage(-1)" style="display: none;">Previous page</button>
        <div class="page-info" id="pageInfo">Page 1</div>
        <button id="nextPage" onclick="changePage(1)" style="display: none;">Next page</button>
    </div>

    <script>
        var allMemes = [
            { title: "The episode breaker", imgUrl: "https://cdn.nos.nl/image/2018/05/21/474278/2048x1152.jpg" },
            { title: "Work dilemma", imgUrl: "https://cdn.prod.website-files.com/64ef86fd99a286b447305635/6662830f6d9e1ec1429bb0da_6250a54e5aafad58b099d32a_Teams-Meme.webp" },
            { title: "The great diet", imgUrl: "https://img.delicious.com.au/WqbvXLhs/del/2016/06/more-the-merrier-31380-2.jpg" },
            { title: "The maps problem", imgUrl: "https://media.npr.org/assets/img/2015/03/03/overly_custom-dd57085dc9a9e7e18a9ddf242ee8b4aa0c84c764.jpg?s=800&c=85&f=jpeg" },
            { title: "Baby", imgUrl: "https://images.theconversation.com/files/38926/original/5cwx89t4-1389586191.jpg?ixlib=rb-4.1.0&q=45&auto=format&w=926&fit=clip" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
            { title: "", imgUrl: "" },
        ];

        // { title: "", imgUrl: "" },

        const memesPerPage = 20;
        let currentPage = 1;

        function displayMemes() {
            const memesContainer = document.getElementById('memes');
            memesContainer.innerHTML = ''; // Leeg de container

            // Bereken de start- en eindindex voor de huidige pagina
            const startIndex = (currentPage - 1) * memesPerPage;
            const endIndex = startIndex + memesPerPage;

            // Haal de memes voor de huidige pagina op
            const memesToDisplay = allMemes.slice(startIndex, endIndex);

            // Voeg memes toe aan de container
            memesToDisplay.forEach(function (meme) {
                const memeDiv = document.createElement('div');
                memeDiv.className = 'meme';

                const title = document.createElement('h3');
                title.textContent = meme.title;

                const img = document.createElement('img');
                img.src = meme.imgUrl; // Stel de afbeelding in
                img.alt = meme.title;
                img.loading = "lazy"; // Gebruik lazy loading

                memeDiv.appendChild(title);
                memeDiv.appendChild(img);
                memesContainer.appendChild(memeDiv);
            });

            // Verberg of toon knoppen op basis van de huidige pagina
            document.getElementById('prevPage').style.display = currentPage > 1 ? 'inline-block' : 'none';
            document.getElementById('nextPage').style.display = currentPage < Math.ceil(allMemes.length / memesPerPage) ? 'inline-block' : 'none';

            // Update de pagina-informatie
            document.getElementById('pageInfo').textContent = `Page ${currentPage} of ${Math.ceil(allMemes.length / memesPerPage)}`;
        }

        function changePage(direction) {
            currentPage += direction;

            // Beperk de pagina's tussen 1 en het aantal pagina's
            if (currentPage < 1) currentPage = 1;
            if (currentPage > Math.ceil(allMemes.length / memesPerPage)) currentPage = Math.ceil(allMemes.length / memesPerPage);

            displayMemes();
        }

        // Roep de functie aan om memes weer te geven
        displayMemes();
    </script>
</body>

</html>