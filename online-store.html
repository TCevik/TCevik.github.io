<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <title>TC_tam Online Store</title>
    <link rel="stylesheet" href="/style.css">
    <script src="/script.js"></script>

    <style>
        #products {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .product {
            display: flex;
            justify-content: center;
            flex-direction: column;
            margin-top: 20px;
            max-width: 250px;
            max-height: 500px;
            text-align: left;
            border: 1px var(--text-color) solid;
            border-radius: var(--border-radius2);
            padding: 20px;
            margin: 15px;
        }

        .product-preview {
            align-self: center;
            width: 200px;
            height: 200px;
            margin: 3px;
        }

        .product-title {
            margin-top: 5px;
            margin-bottom: -15px;
            font-weight: 600;
        }

        .product-description {
            filter: brightness(0.8);
            overflow-y: auto;
        }

        .product-price {
            color: var(--h1234-color);
            margin-top: -10px;
        }

        .buy-button {
            margin-left: 15px;
        }

        a {
            border-bottom: none !important;
        }

        #search-bar {
            width: 100%;
            max-width: 500px;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: var(--border-radius2);
        }

        #no-results {
            display: none;
            text-align: center;
            color: red;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <script>
        const products = [
            {
                name: "Ir Emitter",
                description: "Een krachtige infraroodzender om tv's en andere apparaten die een afstandsbediening gebruiken met infrarood te bedienen.",
                image: "/assets/online-store/ir-emitter.webp",
                price: "€13,19",
                paylink: "https://www.paypal.com/ncp/payment/U3MLY9RLRZCQC",
                keywords: ["van ad", "hack", "kloten"]

            },
            {
                name: "10 random kleuren nfc tags - serienummer veranderbaar",
                description: "10 nfc tags in verschillende kleuren die je kan gebruiken om bijvoorbeeld tags te clonen.",
                image: "/assets/online-store/nfc-tags.webp",
                price: "€14,19",
                paylink: "https://www.paypal.com/ncp/payment/6VQHF8Y8QQD4G",
                keywords: ["sloten", "deuren", "salto"]
            },
            {
                name: "Laser pointer",
                description: "Een laser pointer die ongeveer 1km ver kan schijnen.",
                image: "/assets/online-store/laser-pointer.jpg",
                price: "€15,20",
                paylink: "https://www.paypal.com/ncp/payment/846AV8A4Y8CAE",
                keywords: ["van ad", "licht", "pen", "katten", "speelgoed"]
            },
            {
                name: "Rubiks kubus onopgelost",
                description: "Een rubiks kubus onopgelost en draait een beetje stroef. Originele prijs €25,99.",
                image: "/assets/online-store/rubiks-kubus.png",
                price: "€15,20",
                paylink: "https://www.paypal.com/ncp/payment/NUDJMKV3PWK7Q",
                keywords: ["vierkant", "kleuren", "2e hands"]
            },
            {
                name: "HD action cam",
                description: "Een HD action cam die het prima doet. Originele prijs €49,99.",
                image: "/assets/online-store/action-cam.png",
                price: "€25,20",
                paylink: "https://www.paypal.com/ncp/payment/NUDJMKV3PWK7Q",
                keywords: ["camera", "video", "foto", "2e hands"]
            }
            // Voeg hier meer producten toe als nodig
        ];

        document.addEventListener("DOMContentLoaded", function() {
            const url = window.location.href;            
            if (url.includes("#")) {
                const hash = url.split("#")[1];
                const decodedHash = decodeURIComponent(hash);
                document.getElementById("search-bar").value = decodedHash;
                renderProducts(filteredProducts);
            }
        });

        function generateProductHTML(product) {
            return `
                <div class="product">
                    <img class="product-preview" src="${product.image}">
                    <p class="product-title">${product.name}</p>
                    <p class="product-description">${product.description}</p>
                    <p class="product-price">Totaal: ${product.price}
                        <a href="${product.paylink}" target="_blank">
                            <button class="buy-button">Nu kopen</button>
                        </a>
                    </p>
                </div>
            `;
        }

        document.addEventListener("DOMContentLoaded", function () {
            const productContainer = document.getElementById("products");
            products.forEach(product => {
                productContainer.innerHTML += generateProductHTML(product);
            });
        });

        function renderProducts(filteredProducts) {
            const productContainer = document.getElementById("products");
            const noResultsMessage = document.getElementById("no-results");
            productContainer.innerHTML = '';

            if (filteredProducts.length > 0) {
                noResultsMessage.style.display = 'none';
                filteredProducts.forEach(product => {
                    productContainer.innerHTML += generateProductHTML(product);
                });
            } else {
                noResultsMessage.style.display = 'block';
            }
        }

        document.addEventListener("DOMContentLoaded", function () {
            const searchInput = document.getElementById("search-bar");

            searchInput.addEventListener("input", function () {
                const searchTerm = searchInput.value.toLowerCase();
                const filteredProducts = products.filter(product => {
                    return product.name.toLowerCase().includes(searchTerm) ||
                        product.description.toLowerCase().includes(searchTerm) ||
                        product.keywords.some(keyword => keyword.toLowerCase().includes(searchTerm));
                });
                renderProducts(filteredProducts);
            });

            renderProducts(products);
        });
    </script>

    <h1>TC_tam Online Store [Vroege toegang]</h1>
    <p>Afrekenen kan niet in de TC_tam app! Doe dat op het web.</p>

    <input type="text" id="search-bar" placeholder="Zoek naar producten...">

    <h3 style="margin-bottom: -10px;">Aanbevolen:</h3>
    <p id="no-results">Oeps, dat hebben we niet kunnen vinden...</p>
    <div id="products">
        <!-- Hier komen de producten. -->
    </div>



    <footer>
        <p style="margin: 0px;">TC_tam Online Store™</p>
        <p style="margin: 0px; filter: brightness(0.8);">(Nog) geen retourzendingen!</p>
        <p style="margin: 0px; filter: brightness(0.8);">Ik ben verantwoordelijk voor de verzending van alle producten.
            Nadat u heeft betaald, zal ik het pakket verzenden en ontvangt u daarna een bevestiging per e-mail met de
            huidige status van de pakketbezorging.</p>
    </footer>
</body>

</html>