<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vertaalservice</title>
    <link rel="stylesheet" href="/style.css">
    <style>
        body {
            top: 0px !important;
        }

        .skiptranslate,
        #google_translate_element {
            display: none !important;
        }
    </style>
    <script src="/script.js"></script>

    <script>
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'nl',
                includedLanguages: 'en,nl', // Only English and Dutch available
            }, 'google_translate_element');
        }

        function loadTranslateScript() {
            let script = document.createElement('script');
            script.type = 'text/javascript';
            script.src = '//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
            document.head.appendChild(script);
        }

        // Handle the language change in the custom select dropdown
        function handleLanguageChange(event) {
            var lang = event.target.value;
            var googleTranslateElement = document.querySelector('#google_translate_element iframe');

            if (googleTranslateElement) {
                // Check if the iframe has loaded
                googleTranslateElement.onload = function() {
                    // Change the language via the Google Translate interface
                    googleTranslateElement.contentWindow.document.querySelector('select').value = lang;
                    googleTranslateElement.contentWindow.document.querySelector('select').dispatchEvent(new Event('change'));
                }
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Create custom select dropdown
            var select = document.createElement('select');
            select.classList.add('language-select');
            select.innerHTML = `
                <option value="nl">Nederlands</option>
                <option value="en">English</option>
            `;
            select.addEventListener('change', handleLanguageChange);

            // Insert custom select into the body
            document.body.appendChild(select);

            // Initialize Google Translate element
            var newDiv = document.createElement('div');
            newDiv.id = 'google_translate_element';
            document.body.appendChild(newDiv);

            // Load the translation script
            loadTranslateScript();
        });
    </script>
</head>

<body>
    <h1>Vertaalservice</h1>
</body>

</html>
